/*=============================================================================
    Copyright (c) 2001-2007 Joel de Guzman

    Distributed under the Boost Software License, Version 1.0. (See accompanying 
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/
#ifndef QSBOOST_PHOENIX_CORE_LIMITS_HPP
#define QSBOOST_PHOENIX_CORE_LIMITS_HPP

#include <qsboost/preprocessor/arithmetic/add.hpp>
#include <qsboost/preprocessor/inc.hpp>
#include <qsboost/preprocessor/dec.hpp>
#include <qsboost/preprocessor/stringize.hpp>
#include <qsboost/phoenix/version.hpp>
#include <qsboost/phoenix/support/preprocessor/round.hpp>


#if defined(QSBOOST_PHOENIX_LIMIT)
# if !defined( QSBOOST_PROTO_MAX_ARITY )
#  define QSBOOST_PROTO_MAX_ARITY QSBOOST_PHOENIX_LIMIT
# elif (QSBOOST_PROTO_MAX_ARITY < QSBOOST_PHOENIX_LIMIT)
#  error "BOOST_PROTO_MAX_ARITY is set too low"
# endif
#include <qsboost/proto/proto_fwd.hpp>
#else
#include <qsboost/proto/proto_fwd.hpp>
#define QSBOOST_PHOENIX_LIMIT QSBOOST_PROTO_MAX_ARITY
#endif

#if !defined(PHOENIX_LIMIT)
#define PHOENIX_LIMIT QSBOOST_PHOENIX_LIMIT
#endif

#define QSBOOST_PHOENIX_LIMIT_STR QSBOOST_PP_STRINGIZE(QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT))

#if !defined(QSBOOST_PHOENIX_ARG_LIMIT)
# define QSBOOST_PHOENIX_ARG_LIMIT QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT)
#elif (QSBOOST_PHOENIX_ARG_LIMIT < 5)
# error "BOOST_PHOENIX_ARG_LIMIT is set too low"
#elif QSBOOST_PHOENIX_ARG_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_ACTOR_LIMIT)
# define QSBOOST_PHOENIX_ACTOR_LIMIT QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT)
#elif (QSBOOST_PHOENIX_ACTOR_LIMIT > QSBOOST_PHOENIX_ARG_LIMIT)
# error "BOOST_PHOENIX_ACTOR_LIMIT > BOOST_PHOENIX_ARG_LIMIT"
#elif (QSBOOST_PHOENIX_ACTOR_LIMIT < 3)
# error "BOOST_PHOENIX_ACTOR_LIMIT is set too low"
#elif QSBOOST_PHOENIX_ACTOR_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_PERFECT_FORWARD_LIMIT)
# define QSBOOST_PHOENIX_PERFECT_FORWARD_LIMIT 3
#elif (QSBOOST_PHOENIX_PERFECT_FORWARD_LIMIT > QSBOOST_PHOENIX_ACTOR_LIMIT)
# error "BOOST_PHOENIX_PERFECT_FORWARD_LIMIT > BOOST_PHOENIX_ACTOR_LIMIT"
#elif (QSBOOST_PHOENIX_PERFECT_FORWARD_LIMIT < 3)
# error "BOOST_PHOENIX_PERFECT_FORWARD_LIMIT is set too low"
#elif QSBOOST_PHOENIX_PERFECT_FORWARD_LIMIT != 3 && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_COMPOSITE_LIMIT)
# define QSBOOST_PHOENIX_COMPOSITE_LIMIT QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT)
#elif (QSBOOST_PHOENIX_COMPOSITE_LIMIT < 5)
# error "BOOST_PHOENIX_COMPOSITE_LIMIT is set too low"
#elif QSBOOST_PHOENIX_COMPOSITE_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_MEMBER_LIMIT)
# define QSBOOST_PHOENIX_MEMBER_LIMIT QSBOOST_PP_DEC(QSBOOST_PHOENIX_COMPOSITE_LIMIT)
#elif (QSBOOST_PHOENIX_MEMBER_LIMIT > QSBOOST_PHOENIX_COMPOSITE_LIMIT)
# error "BOOST_PHOENIX_MEMBER_LIMIT > BOOST_PHOENIX_COMPOSITE_LIMIT"
#elif (QSBOOST_PHOENIX_MEMBER_LIMIT < 3)
# error "BOOST_PHOENIX_MEMBER_LIMIT is set too low"
#elif QSBOOST_PHOENIX_MEMBER_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_CATCH_LIMIT)
# define QSBOOST_PHOENIX_CATCH_LIMIT QSBOOST_PHOENIX_COMPOSITE_LIMIT
#elif (QSBOOST_PHOENIX_CATCH_LIMIT < 1)
# error "BOOST_PHOENIX_CATCH_LIMIT is set too low"
#elif QSBOOST_PHOENIX_CATCH_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_DYNAMIC_LIMIT)
# define QSBOOST_PHOENIX_DYNAMIC_LIMIT QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT)
#elif (QSBOOST_PHOENIX_DYNAMIC_LIMIT < 1)
# error "BOOST_PHOENIX_DYNAMIC_LIMIT is set too low"
#elif QSBOOST_PHOENIX_DYNAMIC_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#if !defined(QSBOOST_PHOENIX_LOCAL_LIMIT)
# define QSBOOST_PHOENIX_LOCAL_LIMIT QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT)
#elif (QSBOOST_PHOENIX_LOCAL_LIMIT < 3)
# error "BOOST_PHOENIX_LOCAL_LIMIT is set too low"
#elif QSBOOST_PHOENIX_LOCAL_LIMIT != QSBOOST_PHOENIX_PP_ROUND_UP(QSBOOST_PHOENIX_LIMIT) && !defined(QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES)
# define QSBOOST_PHOENIX_DONT_USE_PREPROCESSED_FILES
#endif

#endif
